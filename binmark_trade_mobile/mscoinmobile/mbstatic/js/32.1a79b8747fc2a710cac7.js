webpackJsonp([32],{HxL2:function(t,a){},gXMy:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("XJyL"),i=e("Fd2+"),o=e("mtWM"),n=e.n(o),r=e("cfYI"),c={components:{Dialog:i.e},data:function(){return{phototemp:"",cardzm:"",cardfm:"",cardsc:"",name:"",rename:"",hideUploadBtn_1:!1,hideUploadBtn_2:!1,hideUploadBtn_3:!1,cardnumber:"",bindstate:{}}},mounted:function(){var t=this;Object(s.X)().then(function(a){t.bindstate=a,a.cardnumberstate>=2&&i.e.confirm({message:"您已实名认证，无需再次认证",confirmButtonText:"返回安全中心",showCancelButton:!1}).then(function(a){t.navigateTo("/account")})})},methods:{uploadId:function(t,a){var e=this;a.preventDefault();var s=a.target.files[0],i=s.name,o=s.size,r=(s.type,new FormData),c={headers:{"Content-Type":"MultipartFile/form-data"},method:"post"};if(/\.(jpg|png)$/.test(i))if(o>4*Math.pow(1024))this.$toast("图片大小不可超过4M,当前图片大小"+o/Math.pow(1024,2)+"M");else switch(r.append("imgurl",s),c.data=r,t){case"0":c.url=this.api.baseURL+"/zm",this.hideUploadBtn_1=!0,n()(c).then(function(t){"0"==t.data.code&&(e.$toast("上传成功"),e.cardzm=t.data.data.result)});break;case"1":c.url=this.api.baseURL+"/fm",this.hideUploadBtn_2=!0,n()(c).then(function(t){"0"==t.data.code&&(e.$toast("上传成功"),e.cardfm=t.data.data.result)});break;case"2":c.url=this.api.baseURL+"/sc",this.hideUploadBtn_3=!0,n()(c).then(function(t){"0"==t.data.code&&(e.$toast("上传成功"),e.cardsc=t.data.data.result)})}else this.$toast("图片格式需为jpg或者png")},validate:function(){return this.cardzm?this.cardfm?this.cardsc?this.name?this.rename!=this.name?(this.$toast({message:"两次输入姓名不一致",position:"bottom"}),!1):this.cardnumber?(this.Util.isIdCard(this.cardnumber)||this.$toast({message:"身份证号码不合法",position:"bottom"}),!0):(this.$toast({message:"身份证号码不能为空",position:"bottom"}),!1):(this.$toast({message:"姓名不能为空",position:"bottom"}),!1):(this.$toast({message:"请上传手持身份证照",position:"bottom"}),!1):(this.$toast({message:"请上传身份证国徽面",position:"bottom"}),!1):(this.$toast({message:"请上传身份证正面",position:"bottom"}),!1)},onSubmit:function(){var t=this;this.validate()&&Object(r.w)({cardzm:this.cardzm,cardfm:this.cardfm,cardsc:this.cardsc,name:this.name,cardnumber:this.cardnumber}).then(function(a){a&&t.navigateTo("/account")})}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"identify van-hairline--top overflow-y h-full"},[e("div",{staticClass:"upload-zone"},[e("div",{staticClass:"label font-bold font-15 txt-center"},[t._v("拍摄身份证人像面")]),t._v(" "),e("div",{staticClass:"cardsc p-rel",style:{backgroundImage:"url("+t.assetConfig.imgs.user_icon_2_1+")"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.cardzm,expression:"cardzm"}],staticClass:"abs-vh-center photo",attrs:{src:t.cardzm}}),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.hideUploadBtn_1,expression:"!hideUploadBtn_1"}],staticClass:"upLoad-btn abs-vh-center thumb-50",attrs:{src:t.assetConfig.imgs.user_icon_2_btn}}),t._v(" "),e("input",{staticClass:"upload-input abs-vh-center wh-full",attrs:{type:"file",accept:"image/png,image/gif,image/jpeg",value:""},on:{change:function(a){t.uploadId("0",a)}}})])]),t._v(" "),e("div",{staticClass:"upload-zone "},[e("div",{staticClass:"label font-bold font-15 txt-center"},[t._v("拍摄身份证国徽面")]),t._v(" "),e("div",{staticClass:"cardsc p-rel",style:{backgroundImage:"url("+t.assetConfig.imgs.user_icon_2_2+")"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.cardfm,expression:"cardfm"}],staticClass:"abs-vh-center photo",attrs:{src:t.cardfm}}),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.hideUploadBtn_2,expression:"!hideUploadBtn_2"}],staticClass:"upLoad-btn abs-vh-center thumb-50",attrs:{src:t.assetConfig.imgs.user_icon_2_btn}}),t._v(" "),e("input",{staticClass:"upload-input abs-vh-center wh-full",attrs:{type:"file",accept:"image/png,image/gif,image/jpeg",value:""},on:{change:function(a){t.uploadId("1",a)}}})])]),t._v(" "),e("div",{staticClass:"upload-zone"},[e("div",{staticClass:"label font-bold font-15 txt-center"},[t._v("拍摄手持身份证照")]),t._v(" "),e("div",{staticClass:"cardsc p-rel",style:{backgroundImage:"url("+t.assetConfig.imgs.user_icon_2_3+")"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.cardsc,expression:"cardsc"}],staticClass:"abs-vh-center photo",attrs:{src:t.cardsc}}),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.hideUploadBtn_3,expression:"!hideUploadBtn_3"}],staticClass:"upLoad-btn abs-vh-center thumb-50",attrs:{src:t.assetConfig.imgs.user_icon_2_btn}}),t._v(" "),e("input",{staticClass:"upload-input abs-vh-center wh-full",attrs:{type:"file",accept:"image/png,image/gif,image/jpeg",value:""},on:{change:function(a){t.uploadId("2",a)}}})])]),t._v(" "),e("div",{staticClass:"form"},[e("div",{staticClass:"form-title font-18 font-bold"},[t._v("填写身份信息")]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"label color-666 font-14"},[t._v("您的姓名")]),t._v(" "),e("div",{staticClass:"form-input font-15 van-hairline--bottom"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"h-35",attrs:{autocomplete:"off",placeholder:"请输入您的姓名"},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"label color-666 font-14"},[t._v("姓名确认")]),t._v(" "),e("div",{staticClass:"form-input font-15 van-hairline--bottom"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.rename,expression:"rename"}],staticClass:"h-35",attrs:{autocomplete:"off",placeholder:"请输入您的姓名"},domProps:{value:t.rename},on:{input:function(a){a.target.composing||(t.rename=a.target.value)}}})])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"label color-666 font-14"},[t._v("证件号码")]),t._v(" "),e("div",{staticClass:"form-input font-15 van-hairline--bottom"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cardnumber,expression:"cardnumber"}],staticClass:"h-35",attrs:{autocomplete:"off",placeholder:"请输入您的证件号码"},domProps:{value:t.cardnumber},on:{input:function(a){a.target.composing||(t.cardnumber=a.target.value)}}})])])]),t._v(" "),e("button",{staticClass:"btn-block btn-primary btn-large riple",on:{click:t.onSubmit}},[t._v("确定")])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"form-group"},[a("div",{staticClass:"label color-666 font-14"},[this._v("证件类型")]),this._v(" "),a("div",{staticClass:"form-input font-15 van-hairline--bottom"},[a("input",{staticClass:"h-35",attrs:{disabled:"",autocomplete:"off",value:"身份证"}})])])}]};var d=e("VU/8")(c,l,!1,function(t){e("HxL2")},"data-v-28556a26",null);a.default=d.exports}});
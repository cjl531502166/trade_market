webpackJsonp([48],{t5lF:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("i7Lb"),a=o("XJyL"),s={mixins:[n.d],data:function(){return{account:"",accountcode:"",parent:"",type:0}},mounted:function(){var t=this.$route.query.sharecode;t&&(this.parent=t)},computed:{disabled:function(){return!(this.account&&this.accountcode&&this.code)}},methods:{validate:function(){return this.Util.isUserName(this.account)?!(!this.Util.isPhone(this.accountcode)&&!this.Util.isEmail(this.accountcode))||(this.$toast({message:"邮箱或者手机号格式不正确",position:"bottom"}),!1):(this.$toast({message:"用户名必须由6-12位字母及数字组成",position:"bottom"}),!1)},onSubmit:function(){this.validate()&&this.navigateTo("/userentry/register_2",{code:this.code,account:this.account,accountcode:this.accountcode,type:this.type,parent:this.parent})},sendCode:function(){var t=this;if(!this.Util.isPhone(this.accountcode)&&!this.Util.isEmail(this.accountcode))return this.$toast({message:"邮箱或者手机号格式不正确",position:"bottom"}),!1;this.timeCountDown(),Object(a._8)(this.accountcode,this.type).then(function(e){t.$toast({message:e.msg,position:"bottom"})})},onTypeChange:function(){this.type=0==this.type?1:0,this.accountcode=""}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{on:{submit:function(t){t.preventDefault()}}},[o("van-field",{attrs:{autocomplete:"off",placeholder:"请输入用户名"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),t._v(" "),o("van-field",{attrs:{autocomplete:"off",placeholder:0==t.type?"请输入手机号":"请输入邮箱"},model:{value:t.accountcode,callback:function(e){t.accountcode=e},expression:"accountcode"}},[o("van-button",{staticClass:"p-rel",attrs:{slot:"button",size:"small"},on:{click:function(e){return e.target!==e.currentTarget?null:t.onTypeChange(e)}},slot:"button"},[o("img",{staticClass:"fl p-abs abs-v-center icon-arrow",attrs:{src:t.assetConfig.imgs.arrow_exchange}}),t._v(" "),o("span",{staticClass:"color-primary font-12",domProps:{textContent:t._s(0==t.type?"手机注册":"邮箱注册")}})])],1),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0==t.type,expression:"type==0"}],staticClass:"input-wrap flex flex-between font-14"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",placeholder:"手机验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),o("span",{staticClass:"color-primary ",on:{click:t.sendCode}},[t._v(t._s(t.codeText))])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:1==t.type,expression:"type==1"}],staticClass:"input-wrap flex flex-between font-14 van-hairline--bottom"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",placeholder:"邮箱验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),o("span",{staticClass:"color-primary ",on:{click:t.sendCode}},[t._v(t._s(t.codeText))])]),t._v(" "),o("div",{staticClass:"van-hairline--bottom"}),t._v(" "),o("van-field",{attrs:{placeholder:"推荐码（选填）"},model:{value:t.parent,callback:function(e){t.parent=e},expression:"parent"}}),t._v(" "),o("button",{staticClass:"btn-submit btn-block btn-primary btn-large riple",attrs:{disabled:t.disabled},on:{click:t.onSubmit}},[t._v("下一步")])],1)},staticRenderFns:[]},c=o("VU/8")(s,i,!1,null,null,null);e.default=c.exports}});
webpackJsonp([25],{SnXD:function(e,t){},Sskf:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("i7Lb"),i=o("XJyL"),a={mixins:[n.d],data:function(){return{loginType:1,account:"",codeType:"2",tabItem:[{label:"手机验证",type:"1"},{label:"谷歌验证",type:"0"},{label:"邮箱验证",type:"2"}]}},beforeRouteEnter:function(e,t,o){"Login"==t.name?o():o({path:"/userentry/login"})},computed:{disabled:function(){return""==this.code}},mounted:function(){var e=this.Store.state.checkLoginState,t=e.isemail,o=e.isgoogle,n=e.istel,i=e.tel,a=e.email;!t||o||n?!o||t||n?!n||o||t?t||o||n||(this.account="",this.loginType=""):(this.account=i,this.codeType=2,this.loginType=1):(this.loginType=0,this.account=this.$route.query.account):(this.loginType=2,this.codeType=3,this.account=a)},methods:{sendCode:function(){var e=this;this.timeCountDown(),Object(i._6)(this.account,this.codeType).then(function(t){t&&e.$toast({message:t.msg,position:"bottom"})})},onSubmit:function(){var e=this;Object(i.b)(this.account,this.loginType,this.code).then(function(t){try{e.Store.dispatch("updateLoginState",!0),e.Store.dispatch("updateUserinfo",t.userinfo[0]),e.storage.set("token",t.token),e.storage.set("isLogin",!0),e.navigateTo("/home")}catch(e){console.log(e)}})},onTabChange:function(e){this.loginType=e;var t=this.Store.state.checkLoginState,o=t.tel,n=t.email;1==e?(this.codeType=2,this.account=o):2==e?(this.codeType=3,this.account=n):this.account=this.$route.query.account}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login user-entry"},[o("tab-bar",{attrs:{"my-class":"tab-bar",tabItem:e.tabItem,tabIndex:e.loginType},on:{onTabChange:e.onTabChange}}),e._v(" "),o("form",{staticClass:"check-form",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[o("div",{directives:[{name:"show",rawName:"v-show",value:1==e.loginType,expression:"loginType==1"}],staticClass:"input-wrap flex flex-between font-14"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",placeholder:"请输入手机验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),o("span",{staticClass:"color-primary",on:{click:e.sendCode}},[e._v(e._s(e.codeText))])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:2==e.loginType,expression:"loginType==2"}],staticClass:"input-wrap flex flex-between font-14"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",placeholder:"请输入邮箱验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),o("span",{staticClass:"color-primary",on:{click:e.sendCode}},[e._v(e._s(e.codeText))])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.loginType,expression:"loginType==0"}],staticClass:"input-wrap flex flex-between font-14"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",placeholder:"请输入谷歌验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"van-hairline--bottom"}),e._v(" "),o("button",{staticClass:"btn-block btn-danger btn-large btn-default riple",attrs:{disabled:e.disabled}},[e._v("确认")])])],1)},staticRenderFns:[]};var c=o("VU/8")(a,s,!1,function(e){o("SnXD")},"data-v-54004bb7",null);t.default=c.exports}});
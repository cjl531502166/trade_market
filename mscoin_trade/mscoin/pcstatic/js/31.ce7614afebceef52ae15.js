webpackJsonp([31],{hKrP:function(e,t){},zywX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("neeE"),o=a("Zhn7"),s={components:{loginModal:r.a,verCode:o.a},data:function(){return{bg:"background-image:url("+a("fez0")+")",registerData:{type:"1",account:"",accountCode:"",password:"",repassword:"",formCode:"",verCode:"",recommender:""},myCode:!1,codeText:"获取验证码",codeTexti18n:"getMsgCode",second:"",canGetCode:!0,isAgreed:!0,verCodeStr:"",getCodeTimes:0,verCodeNumArr:[0,1,2,3,4,5,6,7,8,9],canSubmit:!1}},mounted:function(){this.createCode(this.verCodeNumArr,4),this.userModel.isLogin&&this.navigateTo("/")},methods:{validate:function(e,t){if(""!=e)switch(this.canSubmit=!0,t){case"account":this.Util.isUserName(e)||(this.errMsg("label159"),this.canSubmit=!1);break;case"accountCode":this.Util.isPhone(e)||this.Util.isEmail(e)||(this.errMsg("label156"),this.canSubmit=!1);break;case"password":this.Util.isPassword(e)||(this.errMsg("label124"),this.canSubmit=!1);break;case"repassword":e!=this.registerData.password&&(this.errMsg("两次输入密码不一致"),this.canSubmit=!1);break;case"verCode":e!=this.verCodeStr&&(this.errMsg("label126"),this.canSubmit=!1)}},createCode:function(e,t){for(var a="",r=0;r<t;r++)a+=this.verCodeNumArr[this.Util.randomNum(0,this.verCodeNumArr.length)];this.verCodeStr=a},countDown:function(){var e=this;this.timer=this.Util.timerCounter({onStart:function(t){e.canGetCode=!1,e.getCodeTimes+=1,e.second=t+"s",e.codeTexti18n="countDown"},onCounting:function(t){e.second="("+t+"s)",e.codeTexti18n="countDown"},onComplete:function(){e.canGetCode=!0,e.getCodeTimes>0&&(e.codeTexti18n="tryAgain",e.second="")}})},sendCode:function(){var e=this;if(!this.canGetCode)return!1;if("1"==this.registerData.type){if(!this.Util.isPhone(this.registerData.accountCode))return!1;this.request(this.api.sendcode,{tel:this.registerData.accountCode,showLoading:!0}).then(function(t){"0"==t.code?(e.myCode=!0,e.successMsg(t.msg||"发送成功")):e.errMsg(t.msg||"获取验证码失败")})}else{if(!this.Util.isEmail(this.registerData.accountCode))return!1;this.request(this.api.setemailcode,{email:this.registerData.accountCode,showLoading:!0}).then(function(t){"0"==t.code?(e.successMsg(t.msg||"发送成功"),e.myCode=!0):e.errMsg(t.msg||"获取验证码失败")})}this.countDown()},formSubmit:function(){var e=this;for(var t in this.registerData){var a=this.registerData[t];if(""==a&&"recommender"==a)return void this.errMsg("请填写完整信息")}if(this.canSubmit){var r={type:this.registerData.type-1,account:this.registerData.account,accountcode:this.registerData.accountCode,password:this.registerData.password,code:this.registerData.formCode,showLoading:!0,parent:this.registerData.recommender||null};this.request(this.api.register,r).then(function(t){"0"==t.code?(e.successMsg(t.msg),e.navigateTo("/user/login")):e.errMsg(t.msg||"注册失败")})}}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content p-rel",style:e.bg},[a("login-modal",{staticClass:"resize",attrs:{titleText:e.$t("register")||"注册"}},[a("el-form",{attrs:{model:e.registerData,"label-position":"top"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:e.$t("label154")}},[a("el-input",{attrs:{autocomplete:"off",placeholder:e.$t("label158")},on:{blur:function(t){e.validate(e.registerData.account,"account")}},model:{value:e.registerData.account,callback:function(t){e.$set(e.registerData,"account","string"==typeof t?t.trim():t)},expression:"registerData.account"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("label160")}},[a("el-radio-group",{attrs:{disabled:!e.canGetCode},model:{value:e.registerData.type,callback:function(t){e.$set(e.registerData,"type",t)},expression:"registerData.type"}},[a("el-radio",{attrs:{label:"1"}},[e._v(e._s(e.$t("mobileCode")))]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v(e._s(e.$t("label161")))])],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"==e.registerData.type,expression:"registerData.type=='1'"}],attrs:{label:e.$t("cellphone")||"手机号"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:e.$t("mobilePlaceholder")||"请输入手机号",maxlength:"11"},on:{blur:function(t){e.validate(e.registerData.accountCode,"accountCode")}},model:{value:e.registerData.accountCode,callback:function(t){e.$set(e.registerData,"accountCode","string"==typeof t?t.trim():t)},expression:"registerData.accountCode"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"2"==e.registerData.type,expression:"registerData.type=='2'"}],attrs:{label:e.$t("email")||"邮箱"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:e.$t("emailPlaceholder")||"请输入邮箱"},on:{blur:function(t){e.validate(e.registerData.accountCode,"accountCode")}},model:{value:e.registerData.accountCode,callback:function(t){e.$set(e.registerData,"accountCode","string"==typeof t?t.trim():t)},expression:"registerData.accountCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"1"==e.registerData.type?e.$t("mobileCode"):e.$t("label161")}},[a("div",{staticClass:"mobile-code-wrap p-rel"},[a("el-input",{attrs:{autocomplete:"off",placeholder:e.myCode?"1"==e.registerData.type?e.$t("mobileCodePlaceholder"):e.$t("emailCodePlaceholder"):e.$t("label170"),disabled:!e.myCode},model:{value:e.registerData.formCode,callback:function(t){e.$set(e.registerData,"formCode",t)},expression:"registerData.formCode"}}),e._v(" "),a("div",{staticClass:"mobile-code abs-v-center color-danger",on:{click:e.sendCode}},[e._v(e._s(e.$t(this.codeTexti18n))+e._s(e.second)+"\n          ")])],1)]),e._v(" "),a("el-form-item",{attrs:{label:e.$t("loginPwd")||"登录密码"}},[a("el-input",{attrs:{autocomplete:"off",type:"password",placeholder:e.$t("pwdPlaceholder")||"请输入密码"},on:{blur:function(t){e.validate(e.registerData.password,"password")}},model:{value:e.registerData.password,callback:function(t){e.$set(e.registerData,"password",t)},expression:"registerData.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("loginRepass")||"确认登录密码"}},[a("el-input",{attrs:{autocomplete:"off",type:"password",placeholder:e.$t("pwdPlaceholder")||"请再次输入密码"},on:{blur:function(t){e.validate(e.registerData.repassword,"repassword")}},model:{value:e.registerData.repassword,callback:function(t){e.$set(e.registerData,"repassword",t)},expression:"registerData.repassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("imgCode")||"图形验证码"}},[a("div",{staticClass:"code-wrap flex flex-between"},[a("el-input",{attrs:{autocomplete:"off",placeholder:e.$t("imgCodePlaceholder")||"请输入图形验证码"},on:{blur:function(t){e.validate(e.registerData.verCode,"verCode")}},model:{value:e.registerData.verCode,callback:function(t){e.$set(e.registerData,"verCode",t)},expression:"registerData.verCode"}}),e._v(" "),a("div",{staticClass:"code",on:{click:function(t){e.createCode(e.verCodeNumArr,4)}}},[a("ver-code",{attrs:{contentHeight:38,identifyCode:e.verCodeStr}})],1)],1)]),e._v(" "),a("el-form-item",{attrs:{label:e.$t("recommender")||"邀请人（选填）"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:e.$t("recommenderPlaceholder")||"请输入邀请人账号"},model:{value:e.registerData.recommender,callback:function(t){e.$set(e.registerData,"recommender",t)},expression:"registerData.recommender"}})],1),e._v(" "),a("div",{staticClass:"agree flex flex-between",class:e.isAgreed?"active":""},[a("div",[a("i",{staticClass:"el-icon-circle-check"}),e._v(" "),"zh-CN"==e.$i18n.locale?[a("span",[e._v("我已阅读并同意")]),e._v(" "),a("router-link",{attrs:{to:""}},[e._v("《用户使用协议》")])]:e._e(),e._v(" "),"en-US"==e.$i18n.locale?[a("span",[e._v("I've read and agreed with the")]),e._v(" "),a("router-link",{attrs:{to:""}},[e._v("'User agreement'")])]:e._e()],2),e._v(" "),a("router-link",{staticClass:"back",attrs:{to:"/user/login"},domProps:{textContent:e._s(e.$t("backToLogin")||"返回登录")}})],1),e._v(" "),a("el-form-item",[a("button",{staticClass:"btn-block btn-large btn-danger btn-active",domProps:{textContent:e._s(e.$t("register")||"注册")},on:{click:e.formSubmit}})])],1)],1)],1)},staticRenderFns:[]};var n=a("VU/8")(s,i,!1,function(e){a("hKrP")},"data-v-56b0101e",null);t.default=n.exports}});